{"ast":null,"code":"import _asyncToGenerator from \"E:/Desarrollo de software/Repositorios/AtomChallenge/Frontend/toDoFront/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { EventEmitter } from '@angular/core';\nimport { moveItemInArray } from '@angular/cdk/drag-drop';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/services/tasks/task.service\";\nimport * as i2 from \"src/services/toast/toast.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/divider\";\nimport * as i8 from \"@angular/material/progress-bar\";\nimport * as i9 from \"@angular/cdk/drag-drop\";\nimport * as i10 from \"@angular/material/checkbox\";\nfunction TaskItemComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"mat-card\", 5)(2, \"mat-card-header\")(3, \"mat-card-title\")(4, \"b\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"mat-card-content\")(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"mat-divider\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"mat-card-actions\")(11, \"mat-checkbox\", 6);\n    i0.ɵɵlistener(\"change\", function TaskItemComponent_div_3_Template_mat_checkbox_change_11_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const task_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.changueStatus($event.checked, task_r1));\n    });\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 7)(14, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TaskItemComponent_div_3_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const task_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.launchFormEdit(task_r1));\n    });\n    i0.ɵɵelementStart(15, \"mat-icon\")(16, \"span\", 9);\n    i0.ɵɵtext(17, \" edit \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"button\", 10)(19, \"mat-icon\")(20, \"span\", 9);\n    i0.ɵɵtext(21, \" delete_forever \");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(22, \"mat-card-footer\");\n    i0.ɵɵelement(23, \"mat-progress-bar\", 11);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const task_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", task_r1.status ? \"background-task-success\" : \"background-task-pending\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(task_r1.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(task_r1.description);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"checked\", task_r1.status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", task_r1.status ? \"Realizada\" : \"Pendiente\", \" \");\n  }\n}\nexport class TaskItemComponent {\n  constructor(taskService$, toastService$) {\n    this.taskService$ = taskService$;\n    this.toastService$ = toastService$;\n    this.taskLs = [];\n    this.updateTaskList = new EventEmitter();\n  }\n  ngOnInit() {}\n  drop(event) {\n    moveItemInArray(this.taskLs, event.previousIndex, event.currentIndex);\n  }\n  launchFormEdit(task) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const {\n        value: formValues\n      } = yield Swal.fire({\n        title: 'Editar Tarea',\n        html: '<label>Titulo:</label>' + `<input id=\"swal-input1\" value=\"${task.title}\" class=\"swal2-input\">` + '<label style=\"margin-top=5px\">Descripcion:</label>' + `<input maxlength=\"70\" value=\"${task.description}\" id=\"swal-input2\" class=\"swal2-input\">`,\n        focusConfirm: false,\n        showCancelButton: true,\n        confirmButtonColor: '#FF8D3B',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Editar',\n        cancelButtonText: 'Cancelar',\n        preConfirm: () => {\n          return {\n            title: document.getElementById('swal-input1').value,\n            description: document.getElementById('swal-input2').value,\n            id: task.id\n          };\n        }\n      });\n      if (formValues) {\n        const isEmptyField = Object.values(formValues).some(value => value === \"\" || value === null || value === undefined);\n        if (!isEmptyField) {\n          _this.updateTask(formValues);\n        } else {\n          _this.toastService$.showToast('error', 'No puedes dejar campos vacios');\n        }\n      }\n    })();\n  }\n  changueStatus(status, task) {\n    task.status = status;\n    this.updateTask(task);\n    debugger;\n  }\n  updateTask(task) {\n    this.taskService$.updateTask(task).subscribe(res => {\n      if (res.status === 'success') this.updateTaskList.emit(res);\n    });\n  }\n}\n_class = TaskItemComponent;\n_class.ɵfac = function TaskItemComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.TaskService), i0.ɵɵdirectiveInject(i2.ToastService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-task-item\"]],\n  inputs: {\n    taskLs: \"taskLs\"\n  },\n  outputs: {\n    updateTaskList: \"updateTaskList\"\n  },\n  decls: 4,\n  vars: 2,\n  consts: [[\"cdkDropListGroup\", \"\"], [1, \"example-container\"], [\"cdkDropList\", \"\", 1, \"example-list\", 3, \"cdkDropListData\", \"cdkDropListDropped\"], [\"class\", \"example-box\", \"cdkDrag\", \"\", 4, \"ngFor\", \"ngForOf\"], [\"cdkDrag\", \"\", 1, \"example-box\"], [1, \"card-item\", 3, \"ngClass\"], [1, \"example-margin\", 3, \"checked\", \"change\"], [2, \"float\", \"right\"], [\"mat-fab\", \"\", \"extended\", \"\", \"color\", \"primary\", 3, \"click\"], [1, \"material-symbols-outlined\"], [\"mat-fab\", \"\", \"extended\", \"\", \"color\", \"primary\"], [\"mode\", \"indeterminate\"]],\n  template: function TaskItemComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵlistener(\"cdkDropListDropped\", function TaskItemComponent_Template_div_cdkDropListDropped_2_listener($event) {\n        return ctx.drop($event);\n      });\n      i0.ɵɵtemplate(3, TaskItemComponent_div_3_Template, 24, 5, \"div\", 3);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"cdkDropListData\", ctx.taskLs);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.taskLs);\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgForOf, i4.MatCard, i4.MatCardActions, i4.MatCardContent, i4.MatCardFooter, i4.MatCardHeader, i4.MatCardTitle, i5.MatFabButton, i6.MatIcon, i7.MatDivider, i8.MatProgressBar, i9.CdkDropList, i9.CdkDropListGroup, i9.CdkDrag, i10.MatCheckbox],\n  styles: [\".example-container[_ngcontent-%COMP%] {\\n    width: 400px;\\n    max-width: 100%;\\n    display: inline-block;\\n    vertical-align: top;\\n}\\n\\n.example-list[_ngcontent-%COMP%] {\\n    border: solid 1px #ccc;\\n    min-height: 60px;\\n    background: white;\\n    border-radius: 4px;\\n    overflow: hidden;\\n    display: block;\\n}\\n\\n.example-box[_ngcontent-%COMP%] {\\n    padding: -38px 10px;\\n    border-bottom: solid 1px #ccc;\\n    color: rgba(0, 0, 0, 0.87);\\n    display: block;\\n    word-break: break-all;\\n    box-sizing: border-box;\\n    cursor: move;\\n    background: white;\\n    font-size: 14px;\\n    margin-bottom: 10px;\\n}\\n\\n\\n.cdk-drag-preview[_ngcontent-%COMP%] {\\n    box-sizing: border-box;\\n    border-radius: 4px;\\n    font-family: 'Poppins', sans-serif;\\n    box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2),\\n        0 8px 10px 1px rgba(0, 0, 0, 0.14),\\n        0 3px 14px 2px rgba(0, 0, 0, 0.12);\\n}\\n\\n.cdk-drag-placeholder[_ngcontent-%COMP%] {\\n    opacity: 0;\\n}\\n\\n.cdk-drag-animating[_ngcontent-%COMP%] {\\n    transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\\n}\\n\\n.example-box[_ngcontent-%COMP%]:last-child {\\n    border: none;\\n    word-break: break-all;\\n}\\n\\n.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder) {\\n    transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\\n}\\n\\n  .mdc-form-field>label {\\n    margin-left: 12px !important;\\n}\\n\\n  .mdc-card__actions {\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    box-sizing: border-box;\\n    min-height: 52px;\\n    padding: 8px;\\n    justify-content: space-between !important;\\n}\\n\\n.background-task-success[_ngcontent-%COMP%] {\\n    color: white;\\n    background-image: url('successCard.svg');\\n    background-size: cover;\\n    background-repeat: no-repeat;\\n    position: relative;\\n}\\n\\n.background-task-success[_ngcontent-%COMP%]::before {\\n    content: \\\"\\\";\\n    background: rgba(0, 0, 0, 0.5); \\n\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n    z-index: 1; \\n\\n  }\\n\\n  .background-task-success[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%] {\\n    color: white; \\n\\n    position: relative; \\n\\n  }\\n\\n.background-task-pending[_ngcontent-%COMP%] {\\n    color: white;\\n    background-image: url('warnCard.svg');\\n    background-size: cover;\\n    background-repeat: no-repeat;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGFza3MvdGFzay1pdGVtL3Rhc2staXRlbS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtJQUNaLGVBQWU7SUFDZixxQkFBcUI7SUFDckIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLGdCQUFnQjtJQUNoQixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLDZCQUE2QjtJQUM3QiwwQkFBMEI7SUFDMUIsY0FBYztJQUNkLHFCQUFxQjtJQUNyQixzQkFBc0I7SUFDdEIsWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixlQUFlO0lBQ2YsbUJBQW1CO0FBQ3ZCOzs7QUFHQTtJQUNJLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsa0NBQWtDO0lBQ2xDOzswQ0FFc0M7QUFDMUM7O0FBRUE7SUFDSSxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxzREFBc0Q7QUFDMUQ7O0FBRUE7SUFDSSxZQUFZO0lBQ1oscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksc0RBQXNEO0FBQzFEOztBQUVBO0lBQ0ksNEJBQTRCO0FBQ2hDOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixtQkFBbUI7SUFDbkIsc0JBQXNCO0lBQ3RCLGdCQUFnQjtJQUNoQixZQUFZO0lBQ1oseUNBQXlDO0FBQzdDOztBQUVBO0lBQ0ksWUFBWTtJQUNaLHdDQUE2RDtJQUM3RCxzQkFBc0I7SUFDdEIsNEJBQTRCO0lBQzVCLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFdBQVc7SUFDWCw4QkFBOEIsRUFBRSwwRUFBMEU7SUFDMUcsa0JBQWtCO0lBQ2xCLE1BQU07SUFDTixRQUFRO0lBQ1IsU0FBUztJQUNULE9BQU87SUFDUCxVQUFVLEVBQUUsdURBQXVEO0VBQ3JFOztFQUVBO0lBQ0UsWUFBWSxFQUFFLDREQUE0RDtJQUMxRSxrQkFBa0IsRUFBRSxxRUFBcUU7RUFDM0Y7O0FBRUY7SUFDSSxZQUFZO0lBQ1oscUNBQTBEO0lBQzFELHNCQUFzQjtJQUN0Qiw0QkFBNEI7QUFDaEMiLCJzb3VyY2VzQ29udGVudCI6WyIuZXhhbXBsZS1jb250YWluZXIge1xyXG4gICAgd2lkdGg6IDQwMHB4O1xyXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgdmVydGljYWwtYWxpZ246IHRvcDtcclxufVxyXG5cclxuLmV4YW1wbGUtbGlzdCB7XHJcbiAgICBib3JkZXI6IHNvbGlkIDFweCAjY2NjO1xyXG4gICAgbWluLWhlaWdodDogNjBweDtcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG59XHJcblxyXG4uZXhhbXBsZS1ib3gge1xyXG4gICAgcGFkZGluZzogLTM4cHggMTBweDtcclxuICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDFweCAjY2NjO1xyXG4gICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44Nyk7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDtcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICBjdXJzb3I6IG1vdmU7XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbn1cclxuXHJcblxyXG4uY2RrLWRyYWctcHJldmlldyB7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgZm9udC1mYW1pbHk6ICdQb3BwaW5zJywgc2Fucy1zZXJpZjtcclxuICAgIGJveC1zaGFkb3c6IDAgNXB4IDVweCAtM3B4IHJnYmEoMCwgMCwgMCwgMC4yKSxcclxuICAgICAgICAwIDhweCAxMHB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMTQpLFxyXG4gICAgICAgIDAgM3B4IDE0cHggMnB4IHJnYmEoMCwgMCwgMCwgMC4xMik7XHJcbn1cclxuXHJcbi5jZGstZHJhZy1wbGFjZWhvbGRlciB7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG59XHJcblxyXG4uY2RrLWRyYWctYW5pbWF0aW5nIHtcclxuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAyNTBtcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKTtcclxufVxyXG5cclxuLmV4YW1wbGUtYm94Omxhc3QtY2hpbGQge1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgd29yZC1icmVhazogYnJlYWstYWxsO1xyXG59XHJcblxyXG4uZXhhbXBsZS1saXN0LmNkay1kcm9wLWxpc3QtZHJhZ2dpbmcgLmV4YW1wbGUtYm94Om5vdCguY2RrLWRyYWctcGxhY2Vob2xkZXIpIHtcclxuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAyNTBtcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKTtcclxufVxyXG5cclxuOjpuZy1kZWVwIC5tZGMtZm9ybS1maWVsZD5sYWJlbCB7XHJcbiAgICBtYXJnaW4tbGVmdDogMTJweCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46Om5nLWRlZXAgLm1kYy1jYXJkX19hY3Rpb25zIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICBtaW4taGVpZ2h0OiA1MnB4O1xyXG4gICAgcGFkZGluZzogOHB4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5iYWNrZ3JvdW5kLXRhc2stc3VjY2VzcyB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltYWdlcy9zdWNjZXNzQ2FyZC5zdmcpO1xyXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuXHJcbi5iYWNrZ3JvdW5kLXRhc2stc3VjY2Vzczo6YmVmb3JlIHtcclxuICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNSk7IC8qIEZvbmRvIG5lZ3JvIGNvbiBvcGFjaWRhZCAoYWp1c3RhIGVsIHZhbG9yIDAuNSBzZWfDg8K6biB0dXMgcHJlZmVyZW5jaWFzKSAqL1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICBib3R0b206IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgei1pbmRleDogMTsgLyogQ29sb2NhIGVsIHBzZXVkby1lbGVtZW50byBzb2JyZSBsYSBpbWFnZW4gZGUgZm9uZG8gKi9cclxuICB9XHJcblxyXG4gIC5iYWNrZ3JvdW5kLXRhc2stc3VjY2VzcyBtYXQtY2FyZCB7XHJcbiAgICBjb2xvcjogd2hpdGU7IC8qIEVzdGFibGVjZSBlbCBjb2xvciBkZWwgdGV4dG8geSBvdHJvcyBlbGVtZW50b3MgaW50ZXJub3MgKi9cclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgLyogQcODwrFhZGUgcG9zaWNpw4PCs24gcmVsYXRpdmEgYWwgbWF0LWNhcmQgcGFyYSBxdWUgZWwgei1pbmRleCBmdW5jaW9uZSAqL1xyXG4gIH1cclxuXHJcbi5iYWNrZ3JvdW5kLXRhc2stcGVuZGluZyB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltYWdlcy93YXJuQ2FyZC5zdmcpO1xyXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"],\n  changeDetection: 0\n});","map":{"version":3,"names":["EventEmitter","moveItemInArray","Swal","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","TaskItemComponent_div_3_Template_mat_checkbox_change_11_listener","$event","restoredCtx","ɵɵrestoreView","_r3","task_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","changueStatus","checked","TaskItemComponent_div_3_Template_button_click_14_listener","ctx_r4","launchFormEdit","ɵɵadvance","ɵɵproperty","status","ɵɵtextInterpolate","title","description","ɵɵtextInterpolate1","TaskItemComponent","constructor","taskService$","toastService$","taskLs","updateTaskList","ngOnInit","drop","event","previousIndex","currentIndex","task","_this","_asyncToGenerator","value","formValues","fire","html","focusConfirm","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","preConfirm","document","getElementById","id","isEmptyField","Object","values","some","undefined","updateTask","showToast","subscribe","res","emit","ɵɵdirectiveInject","i1","TaskService","i2","ToastService","selectors","inputs","outputs","decls","vars","consts","template","TaskItemComponent_Template","rf","ctx","TaskItemComponent_Template_div_cdkDropListDropped_2_listener","ɵɵtemplate","TaskItemComponent_div_3_Template"],"sources":["E:\\Desarrollo de software\\Repositorios\\AtomChallenge\\Frontend\\toDoFront\\src\\app\\tasks\\task-item\\task-item.component.ts","E:\\Desarrollo de software\\Repositorios\\AtomChallenge\\Frontend\\toDoFront\\src\\app\\tasks\\task-item\\task-item.component.html"],"sourcesContent":["import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport {\n  CdkDragDrop,\n  CdkDrag,\n  CdkDropList,\n  CdkDropListGroup,\n  moveItemInArray,\n  transferArrayItem,\n} from '@angular/cdk/drag-drop';\nimport { TaskService } from 'src/services/tasks/task.service';\nimport { AddResponse, TaskItem } from '../interfaces/task.interface';\nimport Swal from 'sweetalert2'\nimport { ToastService } from 'src/services/toast/toast.service';\n\n@Component({\n  selector: 'app-task-item',\n  templateUrl: './task-item.component.html',\n  styleUrls: ['./task-item.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\n\nexport class TaskItemComponent implements OnInit {\n \n  @Input() taskLs: TaskItem[] = [];\n  @Output () updateTaskList: EventEmitter<AddResponse> = new EventEmitter();\n\n  constructor(private taskService$: TaskService,\n              private toastService$: ToastService) { }\n\n  ngOnInit(): void {\n  }\n\n  drop(event: CdkDragDrop<TaskItem[]>) {\n    moveItemInArray(this.taskLs, event.previousIndex, event.currentIndex);\n  }\n\n\n  async launchFormEdit(task:TaskItem) {\n    const { value: formValues } = await Swal.fire({\n      title: 'Editar Tarea',\n      html:\n      '<label>Titulo:</label>' +\n        `<input id=\"swal-input1\" value=\"${task.title}\" class=\"swal2-input\">` +\n        '<label style=\"margin-top=5px\">Descripcion:</label>' +\n        `<input maxlength=\"70\" value=\"${task.description}\" id=\"swal-input2\" class=\"swal2-input\">`,\n      focusConfirm: false,\n      showCancelButton: true,\n      confirmButtonColor: '#FF8D3B',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Editar',\n      cancelButtonText: 'Cancelar',\n      preConfirm: () => {\n        return {\n          title: (document.getElementById('swal-input1') as HTMLInputElement).value,\n          description: (document.getElementById('swal-input2') as HTMLInputElement).value,\n          id: task.id\n        }\n\n      }\n    })\n\n    if (formValues) {\n      const isEmptyField = Object.values(formValues).some(value => value === \"\" || value === null || value === undefined);\n      if (!isEmptyField) {\n       this.updateTask(formValues as TaskItem)\n      }else{\n        this.toastService$.showToast('error', 'No puedes dejar campos vacios')\n      }     \n    }\n  }\n\n  changueStatus(status: any, task:TaskItem){\n    task.status = status;\n    this.updateTask(task);\n    debugger\n  }\n\n  updateTask(task:TaskItem){\n    this.taskService$.updateTask(task).subscribe( (res:AddResponse) => {\n      if(res.status === 'success')\n      this.updateTaskList.emit(res);\n    })\n  }\n}\n","<div cdkDropListGroup>\n  <div class=\"example-container\">\n    <div cdkDropList [cdkDropListData]=\"taskLs\" class=\"example-list\" (cdkDropListDropped)=\"drop($event)\">\n      <div class=\"example-box\" *ngFor=\"let task of taskLs\" cdkDrag>\n        <mat-card class=\"card-item\" [ngClass]=\"task.status ? 'background-task-success' : 'background-task-pending'\">\n          <mat-card-header>\n            <mat-card-title><b>{{task.title}}</b></mat-card-title>\n          </mat-card-header>\n          <mat-card-content>\n            <p>{{task.description}}</p>\n            <mat-divider></mat-divider>\n          </mat-card-content>\n          <mat-card-actions>\n            <mat-checkbox [checked]=\"task.status\" (change)=\"changueStatus($event.checked, task)\" class=\"example-margin\">\n             {{task.status ? 'Realizada' : 'Pendiente'}}\n            </mat-checkbox>\n            <div style=\"float: right;\">\n              <button mat-fab extended color=\"primary\" (click)=\"launchFormEdit(task)\">\n                <mat-icon><span class=\"material-symbols-outlined\">\n                    edit\n                  </span></mat-icon>\n              </button>\n              <button mat-fab extended color=\"primary\">\n                <mat-icon><span class=\"material-symbols-outlined\">\n                    delete_forever\n                  </span></mat-icon>\n              </button>\n            </div>\n          </mat-card-actions>\n          <mat-card-footer>\n\n            <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\n          </mat-card-footer>\n        </mat-card>\n      </div>\n    </div>\n  </div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}